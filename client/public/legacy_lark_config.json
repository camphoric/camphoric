{
    "uiSchema": {
        "ui:description": { "__html": "<p>Please read <a href='http://www.larkcamp.org/campterms.html' target='_blank'>Terms of Registration</a> before filling out this form.</p><p>Fill out this form to complete your registration for Lark Camp 2020 online. Please note that registrations are accepted in the order they are received; your camping preferences are processed on a “first come - first served” basis. Your early payment will not be cashed or charged until January 2020.</p><p>Fields marked with an asterisk (*) are required.</p><p><strong>There are no refunds</strong>; please consider purchasing trip insurance if you know something could prevent your attendance.</p>" },
        "payer_billing_address": {
            "ui:title": "Billing Address",
            "contentClassNames": "row",
            "street_address":       { "classNames": "col-xs-12 col-sm-12" },
            "city":                 { "classNames": "col-xs-12 col-sm-12"  },
            "state_or_province":    { "classNames": "col-xs-6  col-sm-6"  },
            "zip_code":             { "classNames": "col-xs-6  col-sm-6"  },
            "country":              { "classNames": "col-xs-12 col-sm-6"  }
        },
        "payer_number": {
            "ui:widget": "PhoneInput"
        },
        "payment_type": {
            "ui:description": { "__html": "<p>A per camper discount will be automatically applied if paying by check - <span class=\"pricing_check_discount_full\"></span> for full camp, <span class=\"pricing_check_discount_half\"></span> for half camp</p>" }
        },
        "payment_full_or_deposit": {
            "ui:description": { "__html": "<p>Full Payment - Pay your full registration now</p><p>Deposit 50% Tuition - Reserve your space with a deposit, due June 20th.</p>" }
        },
        "parking_passes": {
            "ui:description": { "__html": "<p>The Mendocino Woodlands asks us to carpool when possible to reduce the number of cars in the State Park. <a href='https://www.larkcamp.org/carpool.html' target='_blank'>Go to larkcamp.org to find out about sharing rides.</a></p><p><strong>ALL vehicles and trailers are required to have a parking pass.</strong><br><u>Mendocino Woodlands vehicle requirements:</u> If you have a car AND a trailer, you will need two (2) parking passes. If your vehicle, or combined vehicle and trailer, is over 20 feet long, call to ensure there is available space <u>before</u> you register.</p><ul><li>You can pre-purchase parking passes for <span class=\"pricing_parking_pass\"></span>; you’ll receive your parking pass when you arrive at camp.</li><li>If you purchase your parking pass at camp, the cost will be <span class=\"pricing_parking_pass_at_camp\"></span> (note: NO credit cards accepted at that time).</li></ul>" }
        },
        "campers": {
            "ui:title": "Camper Information",
            "ui:description": "There is a big blue button below to add additional campers.  You may add up to 6 additional campers",
            "ui:options": {
                "orderable": false
            },
            "items": {
                "session": {
                    "ui:description": { "__html": "<p><u>Full camp</u> begins Friday, July 31, 2020 at 3:00 pm, and ends Saturday, August 8 at 9:00am.<br><u>First half camp</u> begins Friday, July 31, 2020 at 3:00 pm and ends before noon on Tuesday, August 4.<br><u>Second half camp</u> begins at noon on Tuesday, August 4, 2020 and ends August 8 at 9:00 am.</p><p>A discount of <span class=\"pricing_check_discount_full\"></span> (<span class=\"pricing_check_discount_half\"></span> for half camp) is given if you are paying by check.</p><ul><li>Full camp (adult): <span class=\"pricing_full_adult\"></span></li><li>Full camp (11 and under): <span class=\"pricing_full_teen\"></span></li><li>Half camp (adult): <span class=\"pricing_half_adult\"></span></li><li>Half camp (11 and under): <span class=\"pricing_half_teen\"></span></li></ul>" }
                },

                "camper_address": {
                    "ui:title": "Address",
                    "contentClassNames": "row",
                    "street_address":       { "classNames": "col-xs-12 col-sm-12" },
                    "city":                 { "classNames": "col-xs-12 col-sm-12"  },
                    "state_or_province":    { "classNames": "col-xs-6  col-sm-6"  },
                    "zip_code":             { "classNames": "col-xs-6  col-sm-6"  },
                    "country":              { "classNames": "col-xs-12 col-sm-6"  }
                },
                "accomodations": {
                    "classNames": "accomodations",
                    "cabinmates": {
                        "ui:description": "Let us know and we will try to accommodate your request."
                    },
                    "tenting_area_preference": {
                        "ui:description": { "__html": "<p>Fill in your tenting preference below. To see a map of camp click on the links to open another window. Area A-C are in <a href='http://www.larkcamp.org/giffiles/campgraphics/camp1.gif' target='_blank'>Camp One</a>, D-H are in <a href='http://www.larkcamp.org/giffiles/campgraphics/camp2.gif' target='_blank'>Camp Two</a>, I-L are in <a href='http://www.larkcamp.org/giffiles/campgraphics/camp3.gif' target='_blank'>Camp Three</a></p>" }
                    }
                },
                "meals": {
                    "ui:description": { "__html": "<p>Meal plans must be paid in full (we cannot accept partial payments) NO LATER THAN JUNE 20, 2020. Food prices include sales tax. You may buy individual meals (at a higher rate!) at camp if you would prefer not to purchase a full meal plan. (NOTE: You may only cook if you have a vehicle with a built-in kitchen. No white gas or propane stoves are allowed in the State Park.)</p><p>This is a significant savings over buying meals at camp.  Full meals includes breakfast, lunch, and dinner.</p><p><strong>Meal Plan Pricing (adult / child 11 and under)</strong></p><ul><li>Full camp, full meals <span class=\"pricing_meals_adult_full\"></span> adults / <span class=\"pricing_meals_teen_full\"></span> kids</li><li>Full camp, just dinners: <span class=\"pricing_meals_adult_dinners\"></span> adults / <span class=\"pricing_meals_teen_dinners\"></span> kids</li><li>Half camp, full meals: <span class=\"pricing_meals_adult_half\"></span> adults / <span class=\"pricing_meals_teen_half\"></span> kids</li> </ul>" }
                }
            }
        },
        "comments": {
            "ui:widget": "textarea",
            "ui:options": {
              "rows": 5
            }
        },
        "tshirt_sizes": {
            "contentClassNames": "row",
            "small":  { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput"},
            "medium": { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput" },
            "large":  { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput" },
            "xl":     { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput" },
            "xxl":    { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput" },
            "ui:description": { "__html": "<p>All sizes <span class=\"pricing_tshirt\"></span>. Price includes sales tax.<br><a href='https://www.larkcamp.org/shirt.html' target='_blank'>More Information About Lark Camp Shirts</a></p><p>T-shirts are straight cut by default; if you want a fitted cut t-shirt, let us know in the comments box below. </p><p>We use the language “Straight Cut”, and “Fitted Cut” for the two different scales called Unisex/Men’s and Women’s by the garment industry.</p><p>Fitted cut garments are typically 1 size smaller than the equivalent straight cut. For example if you typically wear a large fitted garment you would typically wear a small in straight cut sizing.</p>" }
        },
        "sweatshirt_sizes": {
            "contentClassNames": "row",
            "small":  { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput" },
            "medium": { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput" },
            "large":  { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput" },
            "xl":     { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput" },
            "xxl":    { "classNames": "col-xs-4 col-sm-2", "ui:widget": "NaturalNumberInput" },
            "ui:description": { "__html": "<p>All sizes <span class=\"pricing_sweatshirt\"></span>.</p>" }
        },
        "lta_donation": {
            "ui:description": { "__html": "<p><strong>DONATE TO LARK CAMP</strong><br>Lark Traditional Arts (EIN 83-2424940) is the nonprofit organization that runs Lark Camp. If you would like to support camp with a tax-deductible donation in addition to your registration today, please use the space below to add the amount. Or you may go to: <a href='https://www.larkcamp.org/'>https://www.larkcamp.org/</a></p>" }
        },
        "woodlands_donation": {
            "ui:help": "This does not go to Lark Camp but benefits the Mendocino Woodlands",
            "ui:widget": "NaturalNumberInput"
        }
    },
    "dataSchema": {
        "definitions": {
            "camping_preference": {
                "type": "string",
                "enum": ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L"]
            },
            "natural": {
                "type": "integer",
                "minimum": 0,
                "default": 0
            },
            "shirt_count": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9,
                "default": 0
            },
            "sizes": {
                "type": "object",
                "title": "Sizes",
                "properties": {
                    "small": { "$ref": "#/definitions/shirt_count" },
                    "medium": { "$ref": "#/definitions/shirt_count" },
                    "large": { "$ref": "#/definitions/shirt_count" },
                    "xl": { "$ref": "#/definitions/shirt_count" },
                    "xxl": { "$ref": "#/definitions/shirt_count" }
                }
            },
            "address": {
                "type": "object",
                "title": "Address",
                "properties": {
                    "street_address": {
                        "type": "string",
                        "maxLength": 50,
                        "title": "Address"
                    },
                    "city": {
                        "type": "string",
                        "maxLength": 50,
                        "title": "City"
                    },
                    "state_or_province": {
                        "type": "string",
                        "maxLength": 50,
                        "title": "State or Province"
                    },
                    "zip_code":     {
                        "type": "string",
                        "minLength": 3,
                        "maxLength": 10,
                        "title": "Zipcode or Postal Code"
                    },
                    "country": {
                        "type": "string",
                        "title": "Country",
                        "enum": [ "Afghanistan", "Åland Islands", "Albania", "Algeria", "American Samoa", "Andorra", "Angola", "Anguilla", "Antarctica", "Antigua and Barbuda", "Argentina", "Armenia", "Aruba", "Australia", "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium", "Belize", "Benin", "Bermuda", "Bhutan", "Bolivia", "Bosnia and Herzegovina", "Botswana", "Bouvet Island", "Brazil", "British Indian Ocean Territory", "Brunei Darussalam", "Bulgaria", "Burkina Faso", "Burundi", "Cambodia", "Cameroon", "Canada", "Cape Verde", "Cayman Islands", "Central African Republic", "Chad", "Chile", "China", "Christmas Island", "Cocos (Keeling) Islands", "Colombia", "Comoros", "Congo", "Congo, The Democratic Republic of the", "Cook Islands", "Costa Rica", "Côte_d'Ivoire", "Croatia", "Cuba", "Cyprus", "Czech Republic", "Denmark", "Djibouti", "Dominica", "Dominican Republic", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea", "Eritrea", "Estonia", "Ethiopia", "Falkland Islands (Malvinas)", "Faroe Islands", "Fiji", "Finland", "France", "French Guiana", "French Polynesia", "French Southern Territories", "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Gibraltar", "Greece", "Greenland", "Grenada", "Guadeloupe", "Guam", "Guatemala", "Guernsey", "Guinea", "Guinea-bissau", "Guyana", "Haiti", "Heard Island and Mcdonald Islands", "Holy See (Vatican City State)", "Honduras", "Hong Kong", "Hungary", "Iceland", "India", "Indonesia", "Iran, Islamic Republic of", "Iraq", "Ireland", "Isle of Man", "Israel", "Italy", "Jamaica", "Japan", "Jersey", "Jordan", "Kazakhstan", "Kenya", "Kiribati", "Korea, Democratic People's Republic of", "Korea, Republic of", "Kuwait", "Kyrgyzstan", "Lao People's Democratic Republic", "Latvia", "Lebanon", "Lesotho", "Liberia", "Libyan Arab Jamahiriya", "Liechtenstein", "Lithuania", "Luxembourg", "Macao", "Macedonia, The Former Yugoslav Republic of", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Marshall Islands", "Martinique", "Mauritania", "Mauritius", "Mayotte", "Mexico", "Micronesia, Federated States of", "Moldova, Republic of", "Monaco", "Mongolia", "Montenegro", "Montserrat", "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru", "Nepal", "Netherlands", "Netherlands Antilles", "New Caledonia", "New Zealand", "Nicaragua", "Niger", "Nigeria", "Niue", "Norfolk Island", "Northern Mariana Islands", "Norway", "Oman", "Pakistan", "Palau", "Palestinian Territory", "Panama", "Papua New Guinea", "Paraguay", "Peru", "Philippines", "Pitcairn", "Poland", "Portugal", "Puerto Rico", "Qatar", "Reunion", "Romania", "Russian Federation", "Rwanda", "Saint Barthélemy", "Saint Helena", "Saint Kitts and Nevis", "Saint Lucia", "Saint Martin", "Saint Pierre and Miquelon", "Saint Vincent and the Grenadines", "Samoa", "San Marino", "Sao Tome and Principe", "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa", "South Georgia and the South Sandwich Islands", "Spain", "Sri Lanka", "Sudan", "Suriname", "Svalbard and Jan Mayen", "Swaziland", "Sweden", "Switzerland", "Syrian Arab Republic", "Taiwan, Republic of China", "Tajikistan", "Tanzania, United Republic of", "Thailand", "Timor-leste", "Togo", "Tokelau", "Tonga", "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Turks and Caicos Islands", "Tuvalu", "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "United States", "United States Minor Outlying Islands", "Uruguay", "Uzbekistan", "Vanuatu", "Venezuela", "Vietnam", "Virgin Islands, British", "Virgin Islands, U.S.", "Wallis and Futuna", "Western Sahara", "Yemen", "Zambia", "Zimbabwe" ],
                        "default": "United States"
                    }
                },
                "required": ["street_address", "city", "state_or_province", "zip_code", "country"]
            },
            "accomodations": {
                "type": "object",
                "title": "Accomodations",
                "properties": {
                    "camp_preference": {
                        "type": "string",
                        "title": "Camp Preference",
                        "enum": ["Camp 1", "Camp 2", "Camp 3"],
                        "default": "Camp 1"
                    },
                    "accomodation_preference": {
                        "type": "string",
                        "title": "Accomodation Preference",
                        "enum": ["Cabin", "Tent", "Vehicle Camping"]
                    }
                },
                "required": ["camp_preference", "accomodation_preference"],
                "dependencies": {
                    "accomodation_preference": {
                        "oneOf": [
                            {
                                "properties": {
                                    "accomodation_preference": {
                                        "enum": ["Cabin"]
                                    },
                                    "cabinmates": {
                                        "type": "array",
                                        "title": "Who would you like to share a cabin with?",
                                        "items": {
                                            "type": "string",
                                            "maxLength": 50,
                                            "title": "Camper Name"
                                        }
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "accomodation_preference": {
                                        "enum": ["Tent"]
                                    },
                                    "tent_or_vehicle_mates": {
                                        "type": "array",
                                        "title": "Are you sharing your tent with anyone? If so, add their names below.",
                                        "items": {
                                            "type": "string",
                                            "maxLength": 50,
                                            "title": "Name"
                                        }
                                    },
                                    "tenting_area_preference": {
                                        "type": "object",
                                        "title": "What are your tent area preferences, in order?",
                                        "properties": {
                                            "first_choice": {
                                                "$ref": "#/definitions/camping_preference",
                                                "title": "First choice spot"
                                            },
                                            "second_choice": {
                                                "$ref": "#/definitions/camping_preference",
                                                "title": "Second choice spot"
                                            },
                                            "third_choice": {
                                                "$ref": "#/definitions/camping_preference",
                                                "title": "Third choice spot"
                                            },
                                            "fourth_choice": {
                                                "$ref": "#/definitions/camping_preference",
                                                "title": "Fourth choice spot"
                                            }
                                        },
                                        "required": ["first_choice", "second_choice", "third_choice", "fourth_choice"]
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "accomodation_preference": {
                                        "enum": ["Vehicle Camping"]
                                    },
                                    "tent_or_vehicle_mates": {
                                        "title": "Are you sharing your vehicle camping with anyone? If so, add their names below.",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "maxLength": 50,
                                            "title": "Name"
                                        }
                                    },
                                    "vehicle_make": {
                                        "title": "What is the make/model of your camping vehicle?",
                                        "type": "string",
                                        "maxLength": 50
                                    },
                                    "vehicle_length": {
                                        "title": "How many linear feet is your vehicle?",
                                        "type": "integer",
                                        "minimum": 10,
                                        "maximum": 25,
                                        "default": 15
                                    }
                                }
                            }
                        ]
                    }
                }
            },
            "meals": {
                "type": "object",
                "title": "Meal Plans",
                "properties": {
                    "meal_plan": {
                        "type": "string",
                        "title": "What meals will you purchase?",
                        "enumNames": [
                            "None",
                            "Full Camp, All Meals",
                            "Full Camp, Just Dinners",
                            "Half Camp (first half), All Meals",
                            "Half Camp (second half), All Meals"
                        ],
                        "enum": [
                            "",
                            "F",
                            "D",
                            "A",
                            "B"
                        ],
                        "default": ""
                    }
                },
                "required": ["meal_plan"],
                "dependencies": {
                    "meal_plan": {
                        "oneOf": [
                            {
                                "properties": {
                                    "meal_plan": {
                                        "enum": [""]
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "meal_plan": {
                                        "enum": [
                                            "F",
                                            "D",
                                            "A",
                                            "B"
                                        ]
                                    },
                                    "meal_type": {
                                        "type": "string",
                                        "title": "What types of meals do you want?",
                                        "enumNames": [
                                            "Non-Vegetarian",
                                            "Vegetarian",
                                            "Vegan"
                                        ],
                                        "enum": [
                                            "O",
                                            "V",
                                            "E"
                                        ]
                                    }
                                }
                            }
                        ]
                    }
                }
            }
        },
        "title": "Lark Camp Registration",
        "type": "object",
        "required": [
            "payer_first_name", "payer_last_name", "payer_email", "payer_number",
            "payment_type", "payment_full_or_deposit",
            "campers", "tshirt_sizes", "sweatshirt_sizes" 
        ],
        "properties": {
            "payer_first_name": {
                "type": "string",
                "maxLength": 50,
                "title": "Billing First Name"
            },
            "payer_last_name": {
                "type": "string",
                "maxLength": 50,
                "title": "Billing Last Name"
            },
            "payer_billing_address": { 
                "$ref": "#/definitions/address"
            },
            "payer_email": {
                "type": "string",
                "format": "email",
                "title": "Email"
            },
            "payer_number": {
                "type": "string",
                "maxLength": 20,
                "pattern": "^\\+[0-9]+$",
                "title": "Phone Number"
            },
            "payment_type": {
                "type": "string",
                "title": "Payment Type",
                "enumNames": [
                    "Check",
                    "Credit Card or PayPal"
                ],
                "enum": [
                    "Discount Price - payment by check, bank check or money order",
                    "Full Price - payment by credit card or Paypal"
                ],
                "default": "Discount Price - payment by check, bank check or money order"
            },
            "payment_full_or_deposit": {
                "type": "string",
                "title": "Full Payment or Deposit Only",
                "enum": [
                    "full",
                    "deposit"
                ],
                "enumNames": [
                    "Full Payment",
                    "50% Deposit"
                ],
                "default": "full"
            },
            "campers": {
                "title": "Campers",
                "type": "array",
                "minItems": 1,
                "maxItems": 6,
                "items": {
                    "type": "object",
                    "required": ["first_name", "last_name", "gender", "camper_address", "session", "accomodations", "meals"],
                    "properties": {
                        "first_name": {
                            "type": "string",
                            "maxLength": 50,
                            "title": "First name"
                        },
                        "last_name": {
                            "type": "string",
                            "maxLength": 50,
                            "title": "Last name"
                        },
                        "gender": {
                            "type": "string",
                            "title": "Gender",
                            "enumNames": ["Male", "Female", "Other"],
                            "enum": ["M", "F", "O"]
                        },
                        "age": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 17,
                            "title": "Age, if under 18"
                        },
                        "camper_address": { 
                            "$ref": "#/definitions/address"
                        },
                        "session": {
                            "type": "string",
                            "title": "When will you attend?",
                            "enumNames": [
                                "Full camp",
                                "Half camp (1st half)",
                                "Half camp (2nd half)"
                            ],
                            "enum": [
                                "F",
                                "A",
                                "B"
                            ]
                        },
                        "accomodations": {
                            "$ref": "#/definitions/accomodations"
                        },
                        "meals": {
                            "$ref": "#/definitions/meals"
                        }
                    }
                }
            },
            "parking_passes": {
                "type": "array",
                "title": "Parking Passes",
                "minItems": 0,
                "maxItems": 4,
                "items": {
                    "type": "object",
                    "title": "Parking Pass",
                    "properties": {
                        "holder": {
                            "type": "string",
                            "maxLength": 50,
                            "title": "Whose name will the parking pass be in?"
                        }
                    },
                    "required": ["holder"]
                }
            },
            "tshirt_sizes": {
                "$ref": "#/definitions/sizes",
                "title": "T-shirt Sizes"
            },
            "sweatshirt_sizes": {
                "$ref": "#/definitions/sizes",
                "title": "Sweatshirt Sizes"
            },
            "lta_donation": {
                "type": "integer",
                "minimum": 0,
                "title": "Donation to Lark Traditional Arts (Tax Deductible, Dollars)"
            },
            "how_did_you_hear": {
                "type": "string",
                "maxLength": 50,
                "title": "How did you hear about Lark Camp?"
            },
            "comments": {
                "type": "string",
                "maxLength": 500,
                "title": "Comments"
            }
        }
    },
    "pricingLogic": {
        "camper": {
            "*": [
                {
                    "+": [
                        { "if": [{ ">": [{"var": ["camper.age", 18]}, 11]}, 
                            { "+": [
                                { "if": [
                                    { "===": ["F", {"var": "camper.session"}]}, {"var": "pricing.full_adult"},
                                    { "===": ["A", {"var": "camper.session"}]}, {"var": "pricing.half_adult"},
                                    { "===": ["B", {"var": "camper.session"}]}, {"var": "pricing.half_adult"},
                                    0
                                ]}
                            ]},
                            { "+": [
                                { "if": [
                                    { ">": [{"var": ["camper.age", 18]}, 3]},
                                    {  "if": [
                                        { "===": ["F", {"var": "camper.session"}]}, {"var": "pricing.full_teen"},
                                        { "===": ["A", {"var": "camper.session"}]}, {"var": "pricing.half_teen"},
                                        { "===": ["B", {"var": "camper.session"}]}, {"var": "pricing.half_teen"},
                                        0
                                    ]},
                                    0
                                ]}
                            ]}
                        ]},
                        {  "if": [
                            { "and": [
                                {"===": ["F", {"var": "camper.session"}]},
                                {"===": [{ "var": "registration.payment_type" }, "Check" ]}
                            ]}, {"var": "pricing.check_discount_full"},
                            { "and": [
                                {"===": ["A", {"var": "camper.session"}]},
                                {"===": [{ "var": "registration.payment_type" }, "Check" ]}
                            ]}, {"var": "pricing.check_discount_half"},
                            { "and": [
                                { "===": ["B", {"var": "camper.session"}]},
                                {"===": [{ "var": "registration.payment_type" }, "Check" ]}
                            ]}, {"var": "pricing.check_discount_half"},
                            0
                        ]}
                    ]
                },
                {  "if": [
                    { "===": ["deposit", {"var": "registration.payment_full_or_deposit"}]}, 0.5,
                    1
                ]}
            ]
        },
        "meals": {
            "+": [
                { "if": [{ ">": [{"var": ["camper.age", 18]}, 11]}, 
                    { "+": [
                        { "if": [
                            { "===": ["", {"var": "camper.meals.meal_plan"}]}, 0,
                            { "===": ["F", {"var": "camper.meals.meal_plan"}]}, {"var": "pricing.meals_adult_full"},
                            { "===": ["D", {"var": "camper.meals.meal_plan"}]}, {"var": "pricing.meals_adult_dinners"},
                            { "===": ["A", {"var": "camper.meals.meal_plan"}]}, {"var": "pricing.meals_adult_half"},
                            { "===": ["B", {"var": "camper.meals.meal_plan"}]}, {"var": "pricing.meals_adult_half"},
                            0
                        ]}
                    ]},
                    { "+": [
                        { "if": [
                            { "===": ["", {"var": "camper.meals.meal_plan"}]}, 0,
                            { "===": ["F", {"var": "camper.meals.meal_plan"}]}, {"var": "pricing.meals_teen_full"},
                            { "===": ["D", {"var": "camper.meals.meal_plan"}]}, {"var": "pricing.meals_teen_dinners"},
                            { "===": ["A", {"var": "camper.meals.meal_plan"}]}, {"var": "pricing.meals_teen_half"},
                            { "===": ["B", {"var": "camper.meals.meal_plan"}]}, {"var": "pricing.meals_teen_half"},
                            0
                        ]}
                    ]}
                ]}
            ]
        },
        "parking": {
            "*": [
                {"reduce": [
                    {"var": "registration.parking_passes"},
                    {"+":[
                        {"var": "accumulator"},
                        1
                    ]},
                    0
                ]},
                {"var": "pricing.parking_pass"}
            ]
        },
        "shirts": {
            "+": [
                {"*": [{"var": ["registration.tshirt_sizes.small", 0]}, {"var": "pricing.tshirt"}]},
                {"*": [{"var": ["registration.tshirt_sizes.medium", 0]}, {"var": "pricing.tshirt"}]},
                {"*": [{"var": ["registration.tshirt_sizes.large", 0]}, {"var": "pricing.tshirt"}]},
                {"*": [{"var": ["registration.tshirt_sizes.xl", 0]}, {"var": "pricing.tshirt"}]},
                {"*": [{"var": ["registration.tshirt_sizes.xxl", 0]}, {"var": "pricing.tshirt"}]},
                {"*": [{"var": ["registration.sweatshirt_sizes.small", 0]}, {"var": "pricing.sweatshirt"}]},
                {"*": [{"var": ["registration.sweatshirt_sizes.medium", 0]}, {"var": "pricing.sweatshirt"}]},
                {"*": [{"var": ["registration.sweatshirt_sizes.large", 0]}, {"var": "pricing.sweatshirt"}]},
                {"*": [{"var": ["registration.sweatshirt_sizes.xl", 0]}, {"var": "pricing.sweatshirt"}]},
                {"*": [{"var": ["registration.sweatshirt_sizes.xxl", 0]}, {"var": "pricing.sweatshirt"}]}
            ]
        },
        "donation" : {"var": ["lta_donation", 0]}
    },
    "pricing": {
        "full_adult": 790,
        "half_adult": 600,

        "full_teen": 560,
        "half_teen": 450,

        "meals_adult_full": 405,
        "meals_teen_full": 304,

        "meals_adult_dinners": 221,
        "meals_teen_dinners": 162,

        "meals_adult_half": 215,
        "meals_teen_half": 154,

        "check_discount_full": -20,
        "check_discount_half": -10,

        "parking_pass": 65,
        "parking_pass_at_camp": 85,

        "tshirt": 14,
        "sweatshirt": 22
    }
}
